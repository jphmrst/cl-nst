
\section{Inheritance-based test methods}
\label{sec:methods}
\emph{This feature is in-progress. It currently does not work under Lispworks or Clisp, and details of the API may change in subsequent versions.}

For testing objects in a class hierarchy NST offers xUnit-style test
methods dispatching on different classes.  The idea is that an object
should have all relevant tests applied to it without requiring that
the tests be explicitly enumerated in the test definition: all tests
applicable to an object's class, or to any of its superclasses, should
be discovered and run.

Our running examples of this section are tests on objects of these
four classes:
\begin{verbatim}
(defclass top-cls ()
     ((tc1 :initarg :tc1 :reader tc1)
      (tc2 :initarg :tc2 :reader tc2)))

(defclass mid-cls (top-cls)
     ((mc1 :initarg :mc1 :reader mc1)
      (mc2 :initarg :mc2 :reader mc2)))

(defclass side-cls ()
     ((sc1 :initarg :sc1 :reader sc1)
      (sc2 :initarg :sc2 :reader sc2)))

(defclass bot-cls (mid-cls side-cls)
     ((bc1 :initarg :bc1 :reader bc1)
      (bc2 :initarg :bc2 :reader bc2)))
\end{verbatim}

\subsection{Declaring methods}
\indexLisp{def-test-generic}\indexLisp{def-test-method}\indexLisp{def-test-method-criterion}
\input{../gen/def-test-generic_compiler-macro_nst-item-style}

There are two macros which define a particular method of a generic
test function.
\input{../gen/def-test-method-criterion_compiler-macro_nst-item-style}
\input{../gen/def-test-method_compiler-macro_nst-item-style}

\subsection{Invoking methods}
\indexKeyword{methods}
\input{../gen/methods_criterion_nst-item-style}

\subsection{Method combinations}
\indexLisp{nst-results}
\input{../gen/nst-results_method-combination_nst-item-style}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "manual"
%%% TeX-PDF-mode: t
%%% End: 
